"use strict";import{jsx as n,jsxs as v}from"react/jsx-runtime";import{useEffect as C,useRef as R,useState as o}from"react";import l from"./index.module.css";const m=35,g=210,f=10;function S(){return n("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n("path",{d:"m16.843 10.211c.108-.141.157-.3.157-.456 0-.389-.306-.755-.749-.755h-8.501c-.445 0-.75.367-.75.755 0 .157.05.316.159.457 1.203 1.554 3.252 4.199 4.258 5.498.142.184.36.29.592.29.23 0 .449-.107.591-.291 1.002-1.299 3.044-3.945 4.243-5.498z"})})}export default function b(e){const a=R(null),[s,d]=o(!1),[h,c]=o(!s),[u,p]=o({top:!1,left:!1}),[w,O]=o(null);function L(){N(),c(!1),setTimeout(()=>{d(!0),window.addEventListener("click",r)},0)}function r(){d(!1),setTimeout(()=>{window.removeEventListener("click",r)},0),setTimeout(()=>{c(!0)},e.transitionDuration??g)}function N(){const t=a.current?.getBoundingClientRect();if(!t)throw new Error("No rect found");const i=e.gapBetweenSelectedOptionAndList??f;p({top:t.top+t.height+i+Math.max(e.options.length,5)*(e.optionHeight??m)>window.innerHeight,left:t.left+t.width+i>window.innerWidth})}return C(()=>{const t=e.options.find(i=>i.value===e.value);if(!t)throw new Error("No option found");O(t)},[e.value]),v("div",{ref:a,className:[l.Select,...e.wrapperClassName?[e.wrapperClassName]:[],...s?["_isOpened"]:[]].join(" "),style:{"--option-height":`${e.optionHeight??m}px`,"--transition-duration":`${e.transitionDuration??g}ms`,"--gap-between-selected-option-and-list":`${e.gapBetweenSelectedOptionAndList??f}px`},children:[v("div",{className:[l.selectedOption,...e.selectedOptionClassName?[e.selectedOptionClassName]:[]].join(" "),onClick:()=>s?null:L(),children:[n("span",{children:w?.element}),e.notchIcon??n(S,{})]}),n("div",{className:[l.selectOptions,...e.optionsListClassName?[e.optionsListClassName]:[],...u.top?["_isRevealedFromBottom"]:[],...u.left?["_isRevealedFromRight"]:[],...h?["_isRemovedFromLayout"]:[]].join(" "),style:{zIndex:e.zIndex},children:e.options.map(t=>n("button",{type:"button",className:"_isZeroed",onClick:()=>e.onChange(t.value),children:typeof t.element=="string"?n("span",{children:t.element}):t.element},t.value))})]})}
