"use strict";import{jsx as n,jsxs as p}from"react/jsx-runtime";import{useEffect as R,useRef as C,useState as o}from"react";import a from"./index.module.css";const f=35,g=210,v=10;function y(){return n("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n("path",{d:"m16.843 10.211c.108-.141.157-.3.157-.456 0-.389-.306-.755-.749-.755h-8.501c-.445 0-.75.367-.75.755 0 .157.05.316.159.457 1.203 1.554 3.252 4.199 4.258 5.498.142.184.36.29.592.29.23 0 .449-.107.591-.291 1.002-1.299 3.044-3.945 4.243-5.498z"})})}export default function S(e){const l=C(null),[s,d]=o(!1),[c,u]=o(!s),[r,h]=o({top:!1,left:!1}),[w,N]=o(null);function O(){L(),u(!1),setTimeout(()=>{d(!0),window.addEventListener("click",m)},0)}function m(){d(!1),setTimeout(()=>{window.removeEventListener("click",m)},0),setTimeout(()=>{u(!0)},e.transitionDuration??g)}function L(){const t=l.current?.getBoundingClientRect();if(!t)throw new Error("No rect found");const i=e.gapBetweenSelectedOptionAndList??v;h({top:t.top+t.height+i+Math.max(e.options.length,5)*(e.optionHeight??f)>window.innerHeight,left:t.left+t.width+i>window.innerWidth})}return R(()=>{const t=e.options.find(i=>i.value===e.value);if(!t)throw new Error("No option found");N(t)},[e.value]),p("div",{ref:l,className:[a.Select,...e.wrapperClassName?[e.wrapperClassName]:[],...s?["_isOpened"]:[]].join(" "),style:{"--option-height":`${e.optionHeight??f}px`,"--transition-duration":`${e.transitionDuration??g}ms`,"--gap-between-selected-option-and-list":`${e.gapBetweenSelectedOptionAndList??v}px`},children:[p("div",{className:[a.selectedOption,...e.selectedOptionClassName?[e.selectedOptionClassName]:[]].join(" "),onClick:()=>s?null:O(),children:[n("span",{children:w?.element}),e.notchIcon??n(y,{})]}),n("div",{className:[a.selectOptions,...e.optionsListClassName?[e.optionsListClassName]:[],...r.top?["_isRevealedFromBottom"]:[],...r.left?["_isRevealedFromRight"]:[],...c?["_isRemovedFromLayout"]:[]].join(" "),style:{zIndex:c?void 0:999999},children:e.options.map(t=>n("button",{type:"button",className:"_isZeroed",onClick:()=>e.onChange(t.value),children:typeof t.element=="string"?n("span",{children:t.element}):t.element},t.value))})]})}
